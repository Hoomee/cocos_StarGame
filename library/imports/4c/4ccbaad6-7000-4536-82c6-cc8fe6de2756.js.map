{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "starPrefab",
    "default",
    "type",
    "Prefab",
    "maxStarDuration",
    "minStarDuration",
    "ground",
    "Node",
    "player",
    "scoreDisplay",
    "Label",
    "scoreAudio",
    "url",
    "AudioClip",
    "onLoad",
    "timer",
    "starDuration",
    "groundY",
    "y",
    "height",
    "spawnNewStar",
    "console",
    "log",
    "score",
    "newStar",
    "instantiate",
    "node",
    "addChild",
    "setPosition",
    "getNewStarPosition",
    "getComponent",
    "game",
    "random0To1",
    "randX",
    "width",
    "randY",
    "jumpHeight",
    "randomMinus1To1",
    "p",
    "update",
    "dt",
    "gameOver",
    "gainScore",
    "string",
    "toString",
    "audioEngine",
    "playEffect",
    "stopAllActions",
    "director",
    "loadScene"
  ],
  "mappings": ";;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAW;AACPC,qBAAQ,IADD;AAEPC,kBAAKP,GAAGQ;AAFD,SADH;AAKRC,yBAAgB,CALR;AAMRC,yBAAgB,CANR;AAORC,gBAAO;AACHL,qBAAQ,IADL;AAEHC,kBAAKP,GAAGY;AAFL,SAPC;AAWRC,gBAAO;AACHP,qBAAQ,IADL;AAEHC,kBAAKP,GAAGY;AAFL,SAXC;AAeRE,sBAAa;AACTR,qBAAQ,IADC;AAETC,kBAAKP,GAAGe;AAFC,SAfL;AAmBRC,oBAAW;AACPV,qBAAQ,IADD;AAEPW,iBAAIjB,GAAGkB;AAFA;AAnBH,KAHP;;AA4BL;AACAC,YAAQ,kBAAY;;AAEhB,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKC,YAAL,GAAoB,CAApB;;AAEA,aAAKC,OAAL,GAAe,KAAKX,MAAL,CAAYY,CAAZ,GAAgB,KAAKZ,MAAL,CAAYa,MAAZ,GAAmB,CAAlD;AACA,aAAKC,YAAL;AACAC,gBAAQC,GAAR,CAAY,aAAZ;;AAEA,aAAKC,KAAL,GAAa,CAAb;AAEH,KAxCI;AAyCLH,kBAAa,wBAAU;AACnB,YAAII,UAAU7B,GAAG8B,WAAH,CAAe,KAAKzB,UAApB,CAAd;AACA,aAAK0B,IAAL,CAAUC,QAAV,CAAmBH,OAAnB;AACAH,gBAAQC,GAAR,CAAY,cAAZ;AACAE,gBAAQI,WAAR,CAAoB,KAAKC,kBAAL,EAApB;AACAL,gBAAQM,YAAR,CAAqB,MAArB,EAA6BC,IAA7B,GAAoC,IAApC;;AAEA,aAAKf,YAAL,GAAoB,KAAKX,eAAL,GAAuBV,GAAGqC,UAAH,MAAiB,KAAK5B,eAAL,GAAuB,KAAKC,eAA7C,CAA3C;AACA,aAAKU,KAAL,GAAa,CAAb;AACH,KAlDI;AAmDLc,wBAAmB,8BAAU;AACzB,YAAII,QAAQ,CAAZ;AACAZ,gBAAQC,GAAR,CAAY,KAAKI,IAAL,CAAUQ,KAAtB,EAA4B,KAAKR,IAAL,CAAUP,MAAtC;AACA,YAAIgB,QAAS,KAAKlB,OAAL,GAAetB,GAAGqC,UAAH,KAAgB,KAAKxB,MAAL,CAAYsB,YAAZ,CAAyB,QAAzB,EAAmCM,UAA/E;AACA;AACAH,gBAAQtC,GAAG0C,eAAH,MAAsB,KAAKX,IAAL,CAAUQ,KAAV,GAAgB,CAAtC,CAAR;;AAEAb,gBAAQC,GAAR,CAAYW,KAAZ,EAAkBE,KAAlB;AACA,eAAOxC,GAAG2C,CAAH,CAAKL,KAAL,EAAWE,KAAX,CAAP;AACA;AACH,KA7DI;AA8DL;AACAI,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAG,KAAKzB,KAAL,GAAa,KAAKC,YAArB,EAAkC;AAC9BK,oBAAQC,GAAR,CAAY,QAAZ,EAAqB,KAAKN,YAA1B,EAAuC,KAAKD,KAA5C;AACA,iBAAK0B,QAAL;AACA;AACH;AACD,aAAK1B,KAAL,IAAcyB,EAAd;AACH,KAtEI;AAuELE,eAAU,qBAAU;AAChB,aAAKnB,KAAL,IAAa,CAAb;AACA,aAAKd,YAAL,CAAkBkC,MAAlB,GAA2B,WAAS,KAAKpB,KAAL,CAAWqB,QAAX,EAApC;;AAEAjD,WAAGkD,WAAH,CAAeC,UAAf,CAA0B,KAAKnC,UAA/B,EAA0C,KAA1C;AACH,KA5EI;AA6EL8B,cAAS,oBAAU;AACf,aAAKjC,MAAL,CAAYuC,cAAZ;AACApD,WAAGqD,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACH;;AAhFI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        starPrefab:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        maxStarDuration:0,\r\n        minStarDuration:0,\r\n        ground:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        player:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        scoreDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        scoreAudio:{\r\n            default:null,\r\n            url:cc.AudioClip\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        this.timer = 0;\r\n        this.starDuration = 0;\r\n\r\n        this.groundY = this.ground.y + this.ground.height/2;\r\n        this.spawnNewStar();\r\n        console.log(\"game onload\");\r\n\r\n        this.score = 0;\r\n\r\n    },\r\n    spawnNewStar:function(){\r\n        var newStar = cc.instantiate(this.starPrefab);\r\n        this.node.addChild(newStar);\r\n        console.log(\"add new star\");\r\n        newStar.setPosition(this.getNewStarPosition());\r\n        newStar.getComponent('Star').game = this;\r\n\r\n        this.starDuration = this.minStarDuration + cc.random0To1()*(this.maxStarDuration - this.minStarDuration);\r\n        this.timer = 0;\r\n    },\r\n    getNewStarPosition:function(){\r\n        var randX = 0;\r\n        console.log(this.node.width,this.node.height);\r\n        var randY =  this.groundY + cc.random0To1()*this.player.getComponent(\"Player\").jumpHeight ;\r\n        // randY = ( randY > this.node.height?this.node.height:randY );\r\n        randX = cc.randomMinus1To1()*(this.node.width/2);\r\n       \r\n        console.log(randX,randY);\r\n        return cc.p(randX,randY);\r\n        // return cc.p(500,300);s\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        if(this.timer > this.starDuration){\r\n            console.log(\"timer:\",this.starDuration,this.timer);\r\n            this.gameOver();\r\n            return ;\r\n        }\r\n        this.timer += dt;\r\n    },\r\n    gainScore:function(){\r\n        this.score +=1;\r\n        this.scoreDisplay.string = \"Score:\"+this.score.toString();\r\n        \r\n        cc.audioEngine.playEffect(this.scoreAudio,false);\r\n    },\r\n    gameOver:function(){\r\n        this.player.stopAllActions();\r\n        cc.director.loadScene('game');\r\n    }\r\n\r\n});\r\n"
  ]
}